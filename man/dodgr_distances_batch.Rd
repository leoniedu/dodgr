% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dodgr-distances-batch-data.table.R
\name{dodgr_distances_batch}
\alias{dodgr_distances_batch}
\title{Batch Distance Calculation with Arrow Parquet Output (data.table version)}
\usage{
dodgr_distances_batch(
  graph,
  from,
  to,
  ...,
  batch_size = 1e+06,
  output_dir = "distances_parquet",
  replace = FALSE,
  append = FALSE,
  calculate_time = TRUE,
  shortest = TRUE
)
}
\arguments{
\item{graph}{A dodgr graph object}

\item{from}{Matrix or data.frame of origin coordinates (rownames required)}

\item{to}{Matrix or data.frame of destination coordinates (rownames required)}

\item{...}{Passed to dodgr::dodgr_distances}

\item{batch_size}{Approximate number of from-to pairs per batch}

\item{output_dir}{Output directory for Arrow Parquet files (will be created/cleaned)}

\item{replace}{If TRUE, overwrite output_dir if it exists}

\item{append}{Ignored (kept for backward compat)}
}
\value{
An Arrow Dataset object (see arrow::open_dataset) pointing to the output_dir
}
\description{
Calculates pairwise distances in batches and writes each batch as a Parquet file (Arrow Dataset).
Uses data.table::melt for fast pivoting.
All batches are stored in an output directory. No CSV fallback.
}
\examples{
ds <- dodgr_distances_batch_dt(...)
dplyr::collect(ds)
}
